<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/layouts/private.xhtml">

	<ui:define name="content">
		
		<h:form id="form">
			<div class="row">
				<div class="col-3 detailPic">
	   		        <h:graphicImage value="#{utilController.getDownloadURL(utilController.generateKeyAliveCurrentSession(orderController.orders.picture))}"
	   		            rendered="#{orderController.orders.picture.id ne null}" width="200" height="200"/>
	   		        <h:graphicImage library="images" name="persons.png" rendered="#{orderController.orders.picture.id eq null}" width="200" height="200"/>				
				</div>
				<div class="col-9">
					<div class="row touristDetail">
						<div class="col-6">
 		        			<h:outputLabel value="#{msgs.peakcoin}" />
    		        		<h:outputText styleClass="touristSpan" value="#{orderController.orders.peakcoin}" />						
						</div>
						<div class="col-6">
		    		        <h:outputLabel value="#{msgs.orderName}" />
		    		        <h:outputText styleClass="touristSpan" value="#{orderController.orders.name}" />						
						</div>
						<div class="col-6">
    		        		<h:outputLabel value="#{msgs.orderDescription}" />
    		        		<h:outputText styleClass="touristSpan" value="#{orderController.orders.description}" />
						</div>
						<div class="col-6">
		    		        <h:outputLabel value="#{msgs.date}" />
		    		        <h:outputText styleClass="touristSpan" value="#{orderController.orders.date}" >
		    		            <f:convertDateTime pattern="yyyy-MM-dd" />
		    		        </h:outputText>
						</div>
						<div class="col-6">
		    		        <h:outputLabel value="#{msgs.orderQuantity}" />
		    		        <h:outputText styleClass="touristSpan" value="#{orderController.orders.quantity}" />
						</div>
						<div class="col-6">
    		        		<h:outputLabel value="#{msgs.placeIn}" />
    		        		<h:outputText styleClass="touristSpan" value="#{orderController.getParticipantsNumber(orderController.orders)}" />
						</div>
						<div class="col-6">
    		        		<h:outputLabel value="#{msgs.placeLeft}" />
    		        		<h:outputText styleClass="touristSpan" value="#{orderController.orders.quantity-orderController.getParticipantsNumber(orderController.orders)}" />
						</div>
						<div class="col-6">
    		        		<h:outputLabel value="#{msgs.orderProgram}" />
    		        		<h:outputText styleClass="touristSpan" value="#{orderController.orders.program}" escape="false" />
						</div>
					</div>
				</div>
			</div>
    		   
    		   <p:dataTable value="#{orderController.getParticipantsList(orderController.orders)}" 
    		    styleClass="borderless"  var="item" type="ordered">
			        <f:facet name="header">
			           #{msgs.participants}
			        </f:facet>
			        <p:column>
			           <h:outputText value="#{item.person.fullname}" />
			        </p:column>
			   </p:dataTable>
    	
		     
		   <p:messages/>
		   <p:growl id="growl" showDetail="true" sticky="true" /> 
	   </h:form>
	</ui:define>
</ui:composition>